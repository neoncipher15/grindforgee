<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="GrindForge.png" sizes="any">
<title>GrindForge</title>

<style>
:root{
  /* ===== GITHUB DARK BLUE ===== */
  --bg:#02040a;
  --bg-glow:#020817;

  /* ===== VERY DARK CARDS ===== */
  --card:#070b14;
  --card2:#090f1e;

  --border:rgba(255,255,255,.05);
  --text:#e5e7eb;
  --muted:#9ca3af;
  --accent:#3b82f6;
  --accent2:#60a5fa;
  --radius:22px;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:Inter,system-ui,Arial;
  background:
    radial-gradient(1000px at 50% -20%, var(--bg-glow), transparent),
    var(--bg);
  color:var(--text);
  min-height:100vh;
  overflow:hidden;
}

/* ===== STARS ===== */
#stars{
  position:fixed;
  inset:0;
  z-index:-2;
}

/* ===== LAYOUT ===== */
.container{
  max-width:1300px;
  margin:auto;
  padding:20px;
  display:grid;
  grid-template-columns:1.2fr 1fr;
  gap:22px;
}

/* ================= HEADER ================= */
header{
  grid-column:1/-1;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:18px;
  padding:14px 22px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.brand{
  display:flex;
  align-items:center;
  gap:12px;
}

.logo{
  width:40px;
  height:40px;
  border-radius:50%;
  overflow:hidden;
  border:1px solid var(--border);
}

.logo img{
  width:100%;
  height:100%;
  object-fit:cover;
}

.brand h1{
  margin:0;
  font-size:19px;
  letter-spacing:.6px;
}

#datetime{
  font-size:13px;
  color:var(--muted);
  font-weight:500;
}

/* ================= CARDS ================= */
.card{
  background:var(--card2);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:28px;
}

/* ================= POMODORO ================= */
.timer{
  text-align:center;
}

svg{
  width:260px;
  height:260px;
}

#timeText{
  font-size:40px;
  font-weight:900;
  fill:var(--accent2);
}

#modeText{
  font-size:14px;
  fill:var(--muted);
  letter-spacing:3px;
}

.controls button{
  margin:8px;
  padding:12px 22px;
  border:0;
  border-radius:14px;
  font-weight:800;
  cursor:pointer;
  color:white;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
}

.settings{
  display:flex;
  justify-content:center;
  gap:16px;
  margin-top:14px;
}

.settings input{
  width:70px;
  padding:9px;
  border-radius:12px;
  border:0;
  background:rgba(255,255,255,.07);
  color:white;
  text-align:center;
}

/* ================= TODO ================= */
.card h2{
  margin:0 0 16px;
  font-size:19px;
}

.todo-input{
  display:flex;
  gap:12px;
  margin-bottom:16px;
}

.todo-input input{
  flex:1;
  padding:14px;
  border-radius:14px;
  border:0;
  background:rgba(255,255,255,.06);
  color:white;
}

.todo-input button{
  padding:14px 18px;
  border-radius:14px;
  border:0;
  cursor:pointer;
  color:white;
  font-weight:700;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
}

ul{padding:0;margin:0}

li{
  list-style:none;
  display:flex;
  align-items:center;
  gap:14px;
  padding:14px;
  margin-bottom:10px;
  border-radius:16px;
  background:rgba(255,255,255,.04);
}

.check{
  width:28px;
  height:28px;
  border-radius:50%;
  border:2px solid #374151;
  display:grid;
  place-items:center;
  cursor:pointer;
}

.check.done{
  background:var(--accent);
  border-color:var(--accent);
  color:white;
}

.task{
  flex:1;
}

.task.done{
  text-decoration:line-through;
  color:#6b7280;
}

.del{
  cursor:pointer;
  color:#ef4444;
}

/* ================= RESPONSIVE ================= */
@media(max-width:900px){
  .container{
    grid-template-columns:1fr;
  }
}
</style>
</head>

<body>

<canvas id="stars"></canvas>

<div class="container">

<header>
  <div class="brand">
    <div class="logo">
      <img src="./GrindForge.png">
    </div>
    <h1>GrindForge</h1>
  </div>
  <div id="datetime"></div>
</header>

<!-- POMODORO -->
<section class="card timer">
  <svg viewBox="0 0 200 200">
    <circle cx="100" cy="100" r="90" stroke="#111827" stroke-width="14" fill="none"/>
    <circle id="progress" cx="100" cy="100" r="90"
      stroke="url(#grad)" stroke-width="14" fill="none"
      stroke-dasharray="565"
      transform="rotate(-90 100 100)"/>
    <defs>
      <linearGradient id="grad">
        <stop offset="0%" stop-color="#3b82f6"/>
        <stop offset="100%" stop-color="#60a5fa"/>
      </linearGradient>
    </defs>
    <text id="modeText" x="100" y="82" text-anchor="middle">WORK</text>
    <text id="timeText" x="100" y="125" text-anchor="middle">25:00</text>
  </svg>

  <div class="controls">
    <button id="start">Start</button>
    <button id="pause">Pause</button>
    <button id="reset">Reset</button>
  </div>

  <div class="settings">
    <label>Work <input id="work" value="25"></label>
    <label>Break <input id="break" value="5"></label>
  </div>
</section>

<!-- TODO -->
<section class="card">
  <h2>üìù To-Do</h2>
  <div class="todo-input">
    <input id="todoInput" placeholder="Add a task‚Ä¶">
    <button id="add">Add</button>
  </div>
  <ul id="list"></ul>
</section>

</div>

<script>
/* ===== DATE ===== */
function updateTime(){
  const now=new Date();
  document.getElementById("datetime").textContent =
    now.toLocaleString("en-IN",{
      weekday:"short",
      day:"numeric",
      month:"short",
      hour:"numeric",
      minute:"2-digit",
      hour12:true
    });
}
updateTime();
setInterval(updateTime,60000);

/* ===== POMODORO ===== */
let isWork=true,running=false;
let total=25*60,time=total,interval;

const timeText=document.getElementById("timeText");
const modeText=document.getElementById("modeText");
const progress=document.getElementById("progress");

function render(){
  timeText.textContent=
    `${String(Math.floor(time/60)).padStart(2,"0")}:${String(time%60).padStart(2,"0")}`;
  modeText.textContent=isWork?"WORK":"BREAK";
  progress.style.strokeDashoffset=565-(time/total)*565;
}

start.onclick=()=>{
  if(running) return;
  running=true;
  interval=setInterval(()=>{
    if(time<=0){
      isWork=!isWork;
      total=(isWork?work.value:break.value)*60;
      time=total;
    }
    time--; render();
  },1000);
};

pause.onclick=()=>{clearInterval(interval);running=false;}
reset.onclick=()=>{clearInterval(interval);running=false;isWork=true;total=work.value*60;time=total;render();}
render();

/* ===== TODO ===== */
let tasks=JSON.parse(localStorage.getItem("tasks")||"[]");
function save(){localStorage.setItem("tasks",JSON.stringify(tasks));}
function draw(){
  list.innerHTML="";
  tasks.forEach((t,i)=>{
    const li=document.createElement("li");
    const c=document.createElement("div");
    c.className="check"+(t.done?" done":"");
    c.textContent=t.done?"‚úì":"";
    c.onclick=()=>{t.done=!t.done;save();draw();};
    const s=document.createElement("span");
    s.className="task"+(t.done?" done":"");
    s.textContent=t.text;
    const d=document.createElement("span");
    d.className="del";
    d.textContent="‚úï";
    d.onclick=()=>{tasks.splice(i,1);save();draw();};
    li.append(c,s,d); list.appendChild(li);
  });
}
draw();
add.onclick=()=>{
  const v=todoInput.value.trim();
  if(!v) return;
  tasks.push({text:v,done:false});
  todoInput.value="";
  save(); draw();
};

/* ===== STARS ===== */
const c=document.getElementById("stars"),ctx=c.getContext("2d");
function resize(){c.width=innerWidth;c.height=innerHeight}
resize(); addEventListener("resize",resize);

let stars=[...Array(140)].map(()=>({
  x:Math.random()*c.width,
  y:Math.random()*c.height,
  r:Math.random()*1.2+.3,
  s:Math.random()*.3+.05
}));

(function animate(){
  ctx.clearRect(0,0,c.width,c.height);
  ctx.fillStyle="rgba(255,255,255,.65)";
  stars.forEach(st=>{
    st.y+=st.s;
    if(st.y>c.height){st.y=0;st.x=Math.random()*c.width}
    ctx.beginPath();
    ctx.arc(st.x,st.y,st.r,0,Math.PI*2);
    ctx.fill();
  });
  requestAnimationFrame(animate);
})();
</script>

</body>
</html>
