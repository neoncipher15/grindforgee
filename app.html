<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GrindForge</title>
<link rel="icon" href="GrindForge.png" type="image/png">
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Orbitron:wght@400;700;900&display=swap');

* { margin: 0; padding: 0; box-sizing: border-box; }
:root {
    --bg-primary: #0a0e17;
    --bg-secondary: #0f1625;
    --bg-gradient: linear-gradient(135deg, #0a0e17 0%, #0f1625 25%, #1a1f3a 50%, #0c1428 100%);
    --accent-gold: #f4c430;
    --accent-orange: #ff6b35;
    --accent-cyan: #4ecdc4;
    --text-primary: #f8fafc;
    --text-secondary: #cbd5e1;
    --glass-bg: rgba(255, 255, 255, 0.05);
    --glass-border: rgba(255, 255, 255, 0.1);
    --shadow-glow: 0 25px 50px -12px rgba(244, 196, 48, 0.25);
}

body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-gradient);
    min-height: 100vh;
    color: var(--text-primary);
    overflow-x: hidden;
    position: relative;
}

/* Animated Particles */
.particles { position: fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:1; }
.particle {
    position:absolute;
    background: radial-gradient(circle, var(--accent-gold) 0%, transparent 70%);
    border-radius:50%;
    animation: float 20s infinite linear;
}
@keyframes float { 0%{transform:translateY(100vh) rotate(0deg);opacity:0;} 10%{opacity:1;} 90%{opacity:1;} 100%{transform:translateY(-100px) rotate(360deg);opacity:0;} }

/* Header */
.header {
    position: sticky;
    top: 0;
    z-index: 100;
    padding: 24px 48px;
    backdrop-filter: blur(40px);
    background: rgba(10,14,23,0.8);
    border-bottom: 1px solid var(--glass-border);
}
.header-content {
    max-width:1440px;
    margin:0 auto;
    display:flex;
    align-items:center;
    justify-content:space-between;
}
.logo-section { display:flex; align-items:center; gap:16px; }
.logo { width:56px; height:56px; filter: drop-shadow(0 0 24px rgba(244,196,48,0.6)); transition: all 0.3s ease; }
.logo:hover { transform: scale(1.1) rotate(5deg); }
.brand-title {
    font-size: clamp(1.8rem, 4vw, 2.5rem);
    font-weight:900;
    background: linear-gradient(135deg, var(--accent-gold), var(--accent-orange), var(--accent-cyan));
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
}
.header-stats { display:flex; gap:24px; }
.stat-pill {
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    padding: 12px 20px;
    border-radius:50px;
    border:1px solid var(--glass-border);
    font-weight:600;
    font-size:0.95rem;
    transition: all 0.3s ease;
}
.stat-pill:hover { transform: translateY(-2px); box-shadow: var(--shadow-glow); }

/* Dashboard */
.dashboard {
    max-width:1440px;
    margin:0 auto;
    padding:48px 48px 24px;
    display:grid;
    grid-template-columns: 1fr 420px;
    gap:48px;
    min-height: calc(100vh - 140px);
    position: relative;
    z-index:10;
}

/* Hero Timer */
.hero-timer { display:flex; flex-direction:column; align-items:center; justify-content:flex-start; min-height:600px; padding-top:20px; }
.timer-mega-container { display:flex; align-items:center; justify-content:center; position:relative; margin-bottom:40px; }
.timer-mega {
    width:420px; height:420px; border-radius:50%;
    background: conic-gradient(from 0deg, var(--accent-gold) 0deg, var(--accent-orange) var(--progress,0deg), var(--accent-cyan) var(--progress,0deg), transparent 0deg);
    display:flex; align-items:center; justify-content:center;
    box-shadow: 0 0 80px rgba(244,196,48,0.4), inset 0 0 80px rgba(0,0,0,0.6), 0 0 0 2px rgba(255,255,255,0.1);
    position: relative; transition: all 0.6s cubic-bezier(0.23,1,0.32,1);
}
.timer-inner-circle {
    width:340px; height:340px; border-radius:50%;
    background: radial-gradient(circle at 30% 30%, rgba(244,196,48,0.15) 0%, transparent 50%), linear-gradient(145deg, rgba(15,22,37,0.95), rgba(10,14,23,0.98));
    display:flex; align-items:center; justify-content:center; position:absolute; z-index:2;
    backdrop-filter: blur(50px);
    box-shadow: inset 0 0 60px rgba(0,0,0,0.8);
}
.timer-display {
    font-family:'Orbitron', monospace;
    font-size: clamp(4.5rem, 12vw,6.5rem);
    font-weight:900;
    text-align:center;
    background: linear-gradient(135deg, var(--text-primary), #e2e8f0);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    text-shadow:0 0 40px rgba(248,250,252,0.8);
    z-index:3;
}
.phase-badge {
    position:absolute; top:-12px; right:-12px;
    background: linear-gradient(135deg,var(--accent-gold),var(--accent-orange));
    color:#0a0e17;
    padding:12px 24px;
    border-radius:32px;
    font-weight:800;
    font-size:1.1rem;
    box-shadow:0 12px 40px rgba(244,196,48,0.5);
    animation: phasePulse 2s infinite ease-in-out;
    letter-spacing:0.05em; text-transform:uppercase;
}
@keyframes phasePulse {0%,100%{transform:scale(1) rotate(-2deg);}50%{transform:scale(1.08) rotate(2deg);}}

/* Controls */
.timer-controls { display:flex; gap:24px; flex-wrap:wrap; justify-content:center; }
.btn {
    padding: 18px 36px; border:none; border-radius:50px; font-size:1.1rem; font-weight:700; font-family:inherit; cursor:pointer;
    position:relative; overflow:hidden; transition: all 0.4s cubic-bezier(0.23,1,0.32,1); text-transform:uppercase; letter-spacing:0.5px;
}
.btn::before {
    content:'';
    position:absolute;
    top:0; left:-100%; width:100%; height:100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    transition: left 0.6s;
}
.btn:hover::before { left:100%; }
.btn-primary { background: linear-gradient(135deg,var(--accent-gold),var(--accent-orange)); color:#0a0e17; box-shadow:var(--shadow-glow); min-width:160px; }
.btn-primary:hover:not(:disabled) { transform: translateY(-4px) scale(1.05); box-shadow:0 30px 60px rgba(244,196,48,0.5); }
.btn-secondary { background:var(--glass-bg); color:var(--text-primary); border:2px solid var(--glass-border); backdrop-filter:blur(20px); }
.btn-secondary:hover:not(:disabled){ background: rgba(255,255,255,0.15); border-color: rgba(244,196,48,0.5); transform: translateY(-3px); box-shadow:var(--shadow-glow); }
.btn:disabled { opacity:0.5; cursor:not-allowed; transform:none !important; }

/* Sidebar Panels */
.sidebar { display:flex; flex-direction:column; gap:32px; }

/* Panel */
.panel {
    background: var(--glass-bg); backdrop-filter:blur(40px); border-radius:28px; padding:36px; border:1px solid var(--glass-border);
    box-shadow: 0 32px 64px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.1); position:relative; overflow:hidden; transition: all 0.4s ease;
}
.panel:hover { transform:translateY(-8px); box-shadow:0 40px 80px rgba(0,0,0,0.5),0 0 40px rgba(244,196,48,0.15); }
.panel::before { content:''; position:absolute; top:0; left:0; right:0; height:4px; background: linear-gradient(90deg,var(--accent-gold),var(--accent-orange),var(--accent-cyan)); border-radius:28px 28px 0 0; }
.panel-title { font-size:1.4rem; font-weight:800; color:var(--text-primary); margin-bottom:28px; display:flex; align-items:center; gap:12px; letter-spacing:-0.01em; }

/* Tasks */
/* Task Forge Panel */
.task-forge-panel {
  padding: 32px;
  border-radius: 24px;
  background: linear-gradient(145deg, #0f1426, #12182f);
  box-shadow: 0 12px 40px rgba(0,0,0,0.4);
  position: relative;
}

/* Panel Title */
.task-forge-panel .panel-title {
  font-size: 1.5rem;
  font-weight: 700;
  margin-bottom: 24px;
}

/* Input Container */
.task-input-container {
  display: flex;
  gap: 12px;
  margin-bottom: 28px;
}

/* Input */
.task-input-container input {
  flex: 1;
  padding: 18px 24px;
  border-radius: 16px;
  border: none;
  background: rgba(255,255,255,0.05);
  color: var(--text-primary);
  font-size: 1rem;
  font-weight: 500;
  outline: none;
  transition: all 0.3s ease;
}

.task-input-container input:focus {
  background: rgba(255,255,255,0.08);
  box-shadow: 0 0 12px rgba(244,196,48,0.4);
}

/* Add Task Button */
.btn-add {
  background: linear-gradient(135deg, #f4c430, #ff6b35);
  color: #0a0e17;
  border-radius: 16px;
  padding: 0 32px;
  font-size: 1rem;
  font-weight: 700;
  text-transform: uppercase;
  cursor: pointer;
  box-shadow: 0 6px 20px rgba(244,196,48,0.4);
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.btn-add:hover {
  transform: translateY(-3px);
  box-shadow: 0 12px 32px rgba(244,196,48,0.5);
}

/* Tasks List */
.tasks-list {
  max-height: 420px; /* taller for more breathing room */
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* Task Items */
.task-item {
  display: flex;
  align-items: center;
  gap: 18px;
  padding: 18px 20px;
  background: rgba(255,255,255,0.03);
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.05);
  transition: all 0.3s ease;
  cursor: pointer;
}

.task-item:hover {
  background: rgba(255,255,255,0.08);
  transform: translateX(6px);
  border-color: rgba(244,196,48,0.3);
}

.task-item.completed {
  opacity: 0.6;
  text-decoration: line-through;
}

.task-checkbox {
  width: 26px;
  height: 26px;
  accent-color: var(--accent-gold);
  cursor: pointer;
}
.task-checkbox:checked {
    background: var(--accent-gold);
    border-color: var(--accent-gold);
}
.task-checkbox:checked::after {
    content:'‚úì';
    color:#0a0e17;
    font-weight:700;
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    font-size:16px;
}

/* Editable text */
.task-item span {
    flex:1;
    font-size:1rem;
    outline:none;
    padding:0 4px;
}

/* Delete button */
.task-item button {
    background: rgba(255,255,255,0.08);
    border:1px solid rgba(244,196,48,0.3);
    color:var(--accent-gold);
    border-radius:50%;
    width:28px;
    height:28px;
    font-size:0.9rem;
    display:flex;
    align-items:center;
    justify-content:center;
    transition: all 0.3s ease;
}
.task-item button:hover {
    background: var(--accent-gold);
    color:#0a0e17;
    transform:scale(1.1);
}

/* Stats */
.stats-grid { display:grid; grid-template-columns:repeat(2,1fr); gap:20px; }
.stat-card { text-align:center; padding:28px 16px; background: rgba(255,255,255,0.03); border-radius:24px; border:1px solid rgba(255,255,255,0.06); transition:all 0.3s ease; cursor:pointer; }
.stat-card:hover { transform:translateY(-6px); background: rgba(244,196,48,0.1); border-color: rgba(244,196,48,0.3); }
.stat-value { font-size:2.8rem; font-weight:900; background: linear-gradient(135deg, var(--accent-gold), var(--accent-orange)); -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; margin-bottom:8px; font-family:'Orbitron', monospace; }
.stat-label { font-size:0.9rem; color:var(--text-secondary); font-weight:500; letter-spacing:0.03em; text-transform:uppercase; }

/* Notification */
.notification {
    position: fixed;
    top: 120px;
    right: -480px;
    background: linear-gradient(135deg, rgba(244,196,48,0.98), rgba(255,107,53,0.95));
    color:#0a0e17; padding:28px 40px; border-radius:24px; box-shadow:0 32px 80px rgba(244,196,48,0.4);
    font-weight:700; font-size:1.15rem; z-index:1000; transition:right 0.5s cubic-bezier(0.23,1,0.32,1); backdrop-filter:blur(20px);
}
.notification.show { right:48px; }

/* Responsive */
@media(max-width:1200px){.dashboard{grid-template-columns:1fr; padding:32px 24px; gap:32px;}}
@media(max-width:768px){.header{padding:20px 24px;}.timer-mega{width:320px;height:320px;}.timer-inner-circle{width:260px;height:260px;}.timer-display{font-size:4rem;}.timer-controls{flex-direction:column;gap:20px;}.btn{width:280px;justify-content:center;}.settings-grid{grid-template-columns:1fr;}.panel{padding:24px;}}

/* Quick Settings */
.settings-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

.input-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.input-group label {
  font-size: 0.9rem;
  font-weight: 500;
  color: var(--text-secondary);
}

.input-group input {
  padding: 10px 12px;
  border-radius: 8px;
  border: 1px solid rgba(255,255,255,0.1);
  background: rgba(255,255,255,0.05);
  color: var(--text-primary);
  font-size: 0.95rem;
  outline: none;
  transition: all 0.2s ease;
}

.input-group input:focus {
  border-color: var(--accent-gold);
  box-shadow: 0 0 8px rgba(244,196,48,0.4);
}

@media (max-width: 768px) {
  .settings-grid {
    grid-template-columns: 1fr;
  }
}
</style>
</head>
<body>
<!-- Particles -->
<div class="particles" id="particles"></div>

<!-- Header -->
<header class="header">
<div class="header-content">
<div class="logo-section">
<img src="GrindForge.png" alt="GrindForge" class="logo">
<div class="brand-title">GrindForge</div>
</div>
<div class="header-stats">
<div class="stat-pill"><span id="headerPomodoros">0</span> Today</div>
<div class="stat-pill">Streak: <span id="headerStreak">0</span></div>
</div>
</div>
</header>

<!-- Dashboard -->
<main class="dashboard">
<!-- Timer -->
<section class="hero-timer">
<div class="timer-mega-container">
<div class="timer-mega" id="timerMega">
<div class="timer-inner-circle">
<div class="timer-display" id="timerDisplay">25:00</div>
</div>
<div class="phase-badge" id="phaseBadge">WORK</div>
</div>
</div>
<div class="timer-controls">
<button class="btn btn-primary" id="startBtn">‚ñ∂ Start Session</button>
<button class="btn btn-secondary" id="pauseBtn">‚è∏ Pause</button>
<button class="btn btn-secondary" id="resetBtn">üîÑ Reset</button>
</div>
</section>

<!-- Sidebar -->
<aside class="sidebar">
<!-- Quick Settings Panel -->
<div class="panel">
  <h3 class="panel-title">‚öôÔ∏è Quick Settings</h3>
  <div class="settings-grid">
    <div class="input-group">
      <label for="workTime">Work Duration (min)</label>
      <input type="number" id="workTime" value="25" min="1" max="90">
    </div>
    <div class="input-group">
      <label for="shortBreak">Short Break (min)</label>
      <input type="number" id="shortBreak" value="5" min="1" max="30">
    </div>
    <div class="input-group">
      <label for="longBreak">Long Break (min)</label>
      <input type="number" id="longBreak" value="15" min="5" max="60">
    </div>
    <div class="input-group">
      <label for="longBreakInterval">Pomodoros per Long Break</label>
      <input type="number" id="longBreakInterval" value="4" min="2" max="10">
    </div>
  </div>
</div>

<!-- Tasks -->
<div class="panel">
  <h3 class="panel-title">üìã Task Forge</h3>
  <div class="task-input-container">
    <input type="text" id="taskInput" placeholder="What are you forging today?">
    <button class="btn btn-primary" id="addTaskBtn">Add Task</button>
  </div>
  <div class="tasks-list" id="tasksList"></div>
</div>

<!-- Stats -->
<div class="panel">
<h3 class="panel-title">üìä Grind Stats</h3>
<div class="stats-grid">
<div class="stat-card"><div class="stat-value" id="totalPomodoros">0</div><div class="stat-label">Pomodoros</div></div>
<div class="stat-card"><div class="stat-value" id="totalTime">0h</div><div class="stat-label">Focus Time</div></div>
<div class="stat-card"><div class="stat-value" id="currentStreak">0</div><div class="stat-label">Streak</div></div>
<div class="stat-card"><div class="stat-value" id="completedTasks">0</div><div class="stat-label">Tasks Done</div></div>
</div>
</div>
</aside>
</main>

<!-- Notification -->
<div class="notification" id="notification"></div>

<script>
// -------------------- Timer Logic --------------------
let workDuration = parseInt(document.getElementById('workTime').value) * 60;
let shortBreak = parseInt(document.getElementById('shortBreak').value) * 60;
let longBreak = parseInt(document.getElementById('longBreak').value) * 60;
let longBreakInterval = parseInt(document.getElementById('longBreakInterval').value);

let timer = workDuration;
let timerInterval = null;
let pomodorosCompleted = 0;
let phase = 'WORK';

const timerDisplay = document.getElementById('timerDisplay');
const phaseBadge = document.getElementById('phaseBadge');
const startBtn = document.getElementById('startBtn');
const pauseBtn = document.getElementById('pauseBtn');
const resetBtn = document.getElementById('resetBtn');

function updateDisplay() {
    const mins = Math.floor(timer/60).toString().padStart(2,'0');
    const secs = (timer%60).toString().padStart(2,'0');
    timerDisplay.textContent = `${mins}:${secs}`;
    const progress = ((phase==='WORK'? (workDuration-timer)/workDuration : (phase==='SHORT'? (shortBreak-timer)/shortBreak : (longBreak-timer)/longBreak))*360);
    document.getElementById('timerMega').style.setProperty('--progress', progress+'deg');
}

function startTimer() {
    if(timerInterval) return;
    timerInterval = setInterval(()=>{
        timer--;
        if(timer<0) nextPhase();
        updateDisplay();
    },1000);
}

function pauseTimer() { clearInterval(timerInterval); timerInterval=null; }
function resetTimer() { 
    pauseTimer(); 
    if(phase==='WORK') timer=workDuration; 
    else if(phase==='SHORT') timer=shortBreak;
    else timer=longBreak;
    updateDisplay();
}

function nextPhase(){
    if(phase==='WORK'){
        pomodorosCompleted++;
        if(pomodorosCompleted % longBreakInterval === 0) { phase='LONG'; timer=longBreak; showNotification('Time for a LONG break!'); }
        else { phase='SHORT'; timer=shortBreak; showNotification('Short break!'); }
    } else { phase='WORK'; timer=workDuration; showNotification('Focus!'); }
    phaseBadge.textContent = phase;
    updateDisplay();
    updateStats();
    pauseTimer();
}

startBtn.addEventListener('click', startTimer);
pauseBtn.addEventListener('click', pauseTimer);
resetBtn.addEventListener('click', resetTimer);

document.getElementById('workTime').addEventListener('change', e => { workDuration = parseInt(e.target.value)*60; resetTimer(); });
document.getElementById('shortBreak').addEventListener('change', e => { shortBreak = parseInt(e.target.value)*60; resetTimer(); });
document.getElementById('longBreak').addEventListener('change', e => { longBreak = parseInt(e.target.value)*60; resetTimer(); });
document.getElementById('longBreakInterval').addEventListener('change', e => { longBreakInterval = parseInt(e.target.value); });

// -------------------- Task Logic --------------------
let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
const taskInput = document.getElementById('taskInput');
const addTaskBtn = document.getElementById('addTaskBtn');
const tasksList = document.getElementById('tasksList');

function renderTasks(){
    tasksList.innerHTML = '';
    tasks.forEach((task,i)=>{
        const taskItem = document.createElement('div');
        taskItem.className='task-item';
        if(task.completed) taskItem.classList.add('completed');

        const checkbox=document.createElement('input');
        checkbox.type='checkbox';
        checkbox.className='task-checkbox';
        checkbox.checked=task.completed;
        checkbox.addEventListener('change',()=>toggleTask(i));

        const span=document.createElement('span');
        span.contentEditable=true;
        span.innerText=task.text;
        span.addEventListener('input', e => editTask(i,e));

        const deleteBtn=document.createElement('button');
        deleteBtn.innerHTML='‚ùå';
        deleteBtn.className='btn btn-secondary';
        deleteBtn.addEventListener('click',()=>deleteTask(i));

        taskItem.appendChild(checkbox);
        taskItem.appendChild(span);
        taskItem.appendChild(deleteBtn);

        tasksList.appendChild(taskItem);
    });
    localStorage.setItem('tasks', JSON.stringify(tasks));
    updateStats();
}

addTaskBtn.addEventListener('click', ()=>{
    const text=taskInput.value.trim();
    if(text==='') return;
    tasks.push({text, completed:false});
    taskInput.value='';
    renderTasks();
});

function toggleTask(i){ tasks[i].completed=!tasks[i].completed; renderTasks(); }
function editTask(i,e){ tasks[i].text=e.target.innerText; localStorage.setItem('tasks', JSON.stringify(tasks)); }
function deleteTask(i){ tasks.splice(i,1); renderTasks(); }

// -------------------- Stats --------------------
function updateStats(){
    document.getElementById('totalPomodoros').textContent=pomodorosCompleted;
    document.getElementById('headerPomodoros').textContent=pomodorosCompleted;
    document.getElementById('totalTime').textContent=Math.floor((pomodorosCompleted*workDuration)/3600)+'h';
    document.getElementById('completedTasks').textContent=tasks.filter(t=>t.completed).length;
}

updateDisplay();
renderTasks();

// -------------------- Notification --------------------
const notification = document.getElementById('notification');
function showNotification(msg){
    notification.textContent=msg;
    notification.classList.add('show');
    setTimeout(()=>{notification.classList.remove('show');},3000);
}

// -------------------- Particles --------------------
const particlesContainer=document.getElementById('particles');
for(let i=0;i<60;i++){
    const particle=document.createElement('div');
    particle.className='particle';
    particle.style.width=Math.random()*8+4+'px';
    particle.style.height=particle.style.width;
    particle.style.top=Math.random()*100+'%';
    particle.style.left=Math.random()*100+'%';
    particle.style.animationDuration=(10+Math.random()*20)+'s';
    particle.style.opacity=Math.random()*0.7+0.3;
    particlesContainer.appendChild(particle);
}
</script>
</body>
</html>
