<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GrindForge Dashboard</title>
<link rel="icon" href="GrindForge.png" type="image/png">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
/* ================= RESET ================= */
*{margin:0;padding:0;box-sizing:border-box;}
html,body{height:100%;}
body{font-family:Inter,system-ui,sans-serif;background:#0d1117;color:#c9d1d9;transition:0.3s;}

/* ================= VARIABLES ================= */
:root{
  --bg:#0d1117;
  --mica:rgba(255,255,255,0.06);
  --mica-soft:rgba(255,255,255,0.03);
  --border:rgba(255,255,255,0.15);
  --text:#c9d1d9;
  --muted:#8b949e;
  --accent:#58a6ff;
  --radius:14px;
  --task-hover:#161b22;
  --task-done:#484f58;
}

/* ================= HEADER ================= */
header{
  padding:15px 30px;
  backdrop-filter:blur(20px);
  border-bottom:1px solid var(--border);
  display:flex;
  align-items:center;
  gap:12px;
  position:sticky;
  top:0;
  z-index:10;
  background:rgba(13,17,23,0.85);
}
header h1{font-size:1.5rem;font-weight:800;}
header img{height:36px;}

/* ================= MAIN LAYOUT ================= */
main{
  display:grid;
  grid-template-columns:2fr 1fr;
  gap:28px;
  max-width:1400px;
  margin:auto;
  padding:30px 20px 80px;
}
@media(max-width:1000px){main{grid-template-columns:1fr;}}

/* ================= PANELS ================= */
.panel{
  background:linear-gradient(180deg,var(--mica),var(--mica-soft));
  backdrop-filter:blur(20px);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:24px;
  box-shadow:0 20px 40px rgba(0,0,0,.4);
  transition:0.3s;
}
.panel:hover{transform:translateY(-3px);}

/* ================= TIMER ================= */
.timer{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:28px;
}
.ring{
  width:280px;
  height:280px;
  border-radius:50%;
  background:conic-gradient(var(--accent) var(--deg,0deg), rgba(255,255,255,.1) 0deg);
  display:flex;
  align-items:center;
  justify-content:center;
  transition:0.3s;
}
.core{
  width:200px;
  height:200px;
  border-radius:50%;
  background:rgba(13,17,23,.9);
  border:1px solid var(--border);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}
.time{font-size:3rem;font-weight:800;color:#58a6ff;}
.phase{font-size:.85rem;color:var(--muted);letter-spacing:.2em;}

/* ================= CONTROLS ================= */
.controls{display:flex;gap:12px;flex-wrap:wrap;}
button{
  padding:12px 22px;
  border-radius:12px;
  border:1px solid var(--border);
  background:var(--mica-soft);
  color:var(--text);
  font-weight:600;
  cursor:pointer;
  transition:0.3s;
}
button:hover{background:var(--mica);transform:scale(1.05);}
button.primary{background:linear-gradient(135deg,var(--accent),#3b64ff);border:none;color:#fff;box-shadow:0 6px 12px rgba(88,166,255,0.4);}

/* ================= SETTINGS ================= */
.settings{display:grid;grid-template-columns:1fr 1fr;gap:16px;}
label{font-size:.8rem;color:var(--muted);}
input{width:100%;padding:12px;border-radius:10px;border:1px solid var(--border);background:var(--mica-soft);color:var(--text);transition:0.3s;}
input:focus{border-color:var(--accent);outline:none;}

/* ================= TASKS ================= */
.tasks{display:flex;flex-direction:column;gap:12px;margin-top:12px;}
.task{
  display:flex;align-items:center;gap:12px;padding:14px;
  border-radius:12px;background:var(--mica-soft);
  border:1px solid var(--border);
  transition:0.3s;
}
.task:hover{background:var(--task-hover);}
.task.done{opacity:.6;text-decoration:line-through;background:var(--task-done);}
.task span{flex:1;color:var(--text);outline:none;}
.task button{background:none;border:none;color:#f85149;font-size:1.2rem;cursor:pointer;transition:0.2s;}
.task button:hover{transform:scale(1.2);}

/* ================= STATS ================= */
.stats{display:grid;grid-template-columns:1fr 1fr 1fr;gap:16px;margin-top:20px;}
.stat-card{
  background:var(--mica-soft);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:20px;
  text-align:center;
  transition:0.3s;
}
.stat-card:hover{background:var(--task-hover);}
.stat-value{font-size:1.7rem;font-weight:800;color:#58a6ff;}
.stat-label{font-size:.75rem;color:var(--muted);letter-spacing:.1em;text-transform:uppercase;}

/* ================= NOTIFICATION ================= */
.notification{
  position:fixed;
  bottom:24px;
  right:24px;
  background:var(--mica);
  border:1px solid var(--border);
  padding:16px 20px;
  border-radius:14px;
  opacity:0;
  transform:translateY(20px);
  transition:0.3s;
  z-index:20;
}
.notification.show{opacity:1;transform:translateY(0);}
</style>
</head>
<body>

<audio id="alarm">
  <source src="https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg">
</audio>

<header>
  <img src="GrindForge.png" alt="GrindForge Logo">
  <h1>GrindForge Dashboard</h1>
</header>

<main>
  <!-- TIMER PANEL -->
  <section class="panel timer">
    <div class="ring" id="ring">
      <div class="core">
        <div class="time" id="time">25:00</div>
        <div class="phase" id="phase">WORK</div>
      </div>
    </div>
    <div class="controls">
      <button class="primary" id="start">Start</button>
      <button id="pause">Pause</button>
      <button id="reset">Reset</button>
    </div>
    <div class="stats">
      <div class="stat-card"><div class="stat-value" id="totalPom">0</div><div class="stat-label">Pomodoros</div></div>
      <div class="stat-card"><div class="stat-value" id="streak">0</div><div class="stat-label">Streak</div></div>
      <div class="stat-card"><div class="stat-value" id="totalTime">0h</div><div class="stat-label">Focus</div></div>
    </div>
  </section>

  <!-- SIDEBAR -->
  <section style="display:flex;flex-direction:column;gap:24px;">
    <!-- SETTINGS -->
    <div class="panel">
      <h3>Quick Settings</h3><br>
      <div class="settings">
        <div>
          <label>Work (min)</label>
          <input id="work" type="number" value="25">
        </div>
        <div>
          <label>Break (min)</label>
          <input id="break" type="number" value="5">
        </div>
      </div>
    </div>

    <!-- TASKS -->
    <div class="panel">
      <h3>Tasks</h3><br>
      <input id="taskInput" placeholder="Type task and press Enter">
      <div class="tasks" id="tasks"></div>
    </div>
  </section>
</main>

<div class="notification" id="notif"></div>

<script>
/* =================== TIMER =================== */
let mode="work";
let total=25*60;
let timeLeft=total;
let interval=null;
let pomCount=Number(localStorage.getItem("totalPom"))||0;
let streakCount=Number(localStorage.getItem("streak"))||0;
let focusTime=Number(localStorage.getItem("focusTime"))||0;

const timeEl=document.getElementById("time");
const phaseEl=document.getElementById("phase");
const ring=document.getElementById("ring");
const alarm=document.getElementById("alarm");
const work=document.getElementById("work");
const brk=document.getElementById("break");

function renderTimer(){
  timeEl.textContent=Math.floor(timeLeft/60)+":"+String(timeLeft%60).padStart(2,"0");
  ring.style.setProperty("--deg",360*(1-timeLeft/total)+"deg");
}
function loadPhase(){
  total=(mode==="work"?Number(work.value):Number(brk.value))*60;
  timeLeft=total;
  phaseEl.textContent=mode.toUpperCase();
  renderTimer();
}
function startTimer(){
  if(interval) return;
  interval=setInterval(()=>{
    timeLeft--;
    renderTimer();
    if(timeLeft<=0){
      clearInterval(interval);
      interval=null;
      alarm.play();
      if(mode==="work"){pomCount++;streakCount++;focusTime+=Number(work.value);}
      mode=mode==="work"?"break":"work";
      localStorage.setItem("totalPom",pomCount);
      localStorage.setItem("streak",streakCount);
      localStorage.setItem("focusTime",focusTime);
      updateStats();
      loadPhase();
    }
  },1000);
}
function pauseTimer(){clearInterval(interval);interval=null;}
function resetTimer(){pauseTimer();loadPhase();}
document.getElementById("start").onclick=startTimer;
document.getElementById("pause").onclick=pauseTimer;
document.getElementById("reset").onclick=resetTimer;
work.onchange=loadPhase;brk.onchange=loadPhase;
function updateStats(){
  document.getElementById("totalPom").textContent=pomCount;
  document.getElementById("streak").textContent=streakCount;
  document.getElementById("totalTime").textContent=focusTime+"h";
}
loadPhase();updateStats();

/* =================== TASKS =================== */
let tasks=JSON.parse(localStorage.getItem("tasks")||"[]");
const list=document.getElementById("tasks");
function saveTasks(){localStorage.setItem("tasks",JSON.stringify(tasks));}
function drawTasks(){
  list.innerHTML="";
  tasks.forEach((t,i)=>{
    const d=document.createElement("div");
    d.className="task"+(t.done?" done":"");
    const c=document.createElement("input");
    c.type="checkbox";
    c.checked=t.done;
    c.onchange=()=>{t.done=!t.done;saveTasks();drawTasks();}
    const s=document.createElement("span");
    s.contentEditable=true;
    s.textContent=t.text;
    s.oninput=e=>{t.text=e.target.textContent;saveTasks();}
    const x=document.createElement("button");
    x.textContent="âœ•";
    x.onclick=()=>{tasks.splice(i,1);saveTasks();drawTasks();}
    d.append(c,s,x);list.append(d);
  });
}
document.getElementById("taskInput").onkeydown=e=>{
  if(e.key==="Enter" && taskInput.value.trim()){
    tasks.push({text:taskInput.value,done:false});
    taskInput.value="";
    saveTasks();
    drawTasks();
  }
};
drawTasks();

/* =================== NOTIFICATION =================== */
function notify(msg){
  const n=document.getElementById("notif");
  n.textContent=msg;
  n.classList.add("show");
  setTimeout(()=>n.classList.remove("show"),2500);
}
</script>
</body>
</html>
