<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GrindForge</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

<style>
/* ================= THEME ================= */
:root {
  --bg:#0b0f17;
  --panel:#0f172a;
  --panel-soft:#020617;
  --border:rgba(255,255,255,0.08);
  --text:#e5e7eb;
  --muted:#9ca3af;
  --accent:#2f81f7;
  --radius:16px;
}

* { box-sizing:border-box; margin:0; padding:0; }

body {
  font-family:Inter,system-ui,sans-serif;
  background:radial-gradient(1200px 600px at 50% -10%,#111827,#020617 70%);
  color:var(--text);
  min-height:100vh;
  overflow-x:hidden;
}

/* ================= HEADER ================= */
.header {
  position:sticky;
  top:0;
  z-index:10;
  backdrop-filter:blur(16px);
  background:rgba(11,15,23,.9);
  border-bottom:1px solid var(--border);
}

.header-content {
  max-width:1200px;
  margin:auto;
  padding:16px 24px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.brand-title {
  font-weight:800;
  font-size:1.3rem;
}

.stat-pill {
  padding:8px 14px;
  border-radius:999px;
  background:var(--panel);
  border:1px solid var(--border);
  font-size:.85rem;
  color:var(--muted);
}

/* ================= DASHBOARD ================= */
.dashboard {
  max-width:1200px;
  margin:auto;
  padding:32px 24px;
  display:grid;
  grid-template-columns:1fr 380px;
  gap:32px;
}

/* ================= PANELS ================= */
.panel {
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:24px;
}

/* ================= POMODORO ================= */
.pomodoro-panel {
  display:flex;
  flex-direction:column;
  justify-content:center;
}

.pomodoro-header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:24px;
}

.icon-btn {
  background:var(--panel-soft);
  border:1px solid var(--border);
  border-radius:10px;
  padding:6px 10px;
  cursor:pointer;
  color:var(--text);
}

.hero-timer {
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:32px;
}

.timer-mega {
  width:300px;
  height:300px;
  border-radius:50%;
  background:conic-gradient(var(--accent) var(--progress,0deg),#1f2937 0);
  display:flex;
  align-items:center;
  justify-content:center;
}

.timer-inner {
  width:240px;
  height:240px;
  border-radius:50%;
  background:var(--panel);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}

.timer-display {
  font-size:3.5rem;
  font-weight:800;
}

.phase-badge {
  font-size:.75rem;
  letter-spacing:.2em;
  color:var(--muted);
}

/* ================= BUTTONS ================= */
.btn {
  padding:12px 22px;
  border-radius:14px;
  border:1px solid var(--border);
  background:var(--panel);
  color:var(--text);
  cursor:pointer;
}

.btn-primary {
  background:linear-gradient(135deg,#1f6feb,#2f81f7);
  border:none;
}

/* ================= SIDEBAR ================= */
.sidebar {
  display:flex;
  flex-direction:column;
  gap:24px;
}

.task {
  padding:10px;
  border-radius:12px;
  background:var(--panel-soft);
  border:1px solid var(--border);
  margin-bottom:8px;
}

/* ================= LOCK-IN OVERLAY ================= */
.focus-overlay {
  position:fixed;
  inset:0;
  background:
    radial-gradient(
      700px 500px at 50% 50%,
      rgba(255,255,255,.08),
      rgba(2,6,23,.96) 70%
    );
  backdrop-filter:blur(18px);
  opacity:0;
  pointer-events:none;
  transition:.4s ease;
  z-index:50;
}

.focus-overlay.active {
  opacity:1;
  pointer-events:auto;
}

/* ================= FULLSCREEN TIMER ================= */
.fullscreen-timer {
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  z-index:60;
}

.fullscreen-timer.active {
  display:flex;
}

.full-ring {
  width:70vmin;
  height:70vmin;
  border-radius:50%;
  background:conic-gradient(var(--accent) var(--progress,0deg),#1f2937 0);
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 40px 120px rgba(47,129,247,.35);
}

.full-inner {
  width:60vmin;
  height:60vmin;
  border-radius:50%;
  background:var(--panel);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:6vmin;
  font-weight:800;
}

/* ================= TASK POPUP ================= */
.task-popup {
  position:fixed;
  bottom:24px;
  right:24px;
  width:260px;
  background:rgba(15,23,42,.7);
  backdrop-filter:blur(16px);
  border:1px solid rgba(255,255,255,.12);
  border-radius:14px;
  padding:14px;
  display:none;
  z-index:70;
}

/* ================= QUICK SETTINGS ================= */
.quick-settings-btn {
  position:fixed;
  bottom:24px;
  left:24px;
  z-index:70;
  display:none;
}

.settings-popup {
  position:fixed;
  bottom:80px;
  left:24px;
  width:260px;
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:14px;
  padding:16px;
  display:none;
  z-index:80;
}

.settings-popup input {
  width:100%;
  margin-top:6px;
  padding:8px;
  background:var(--panel-soft);
  border:1px solid var(--border);
  border-radius:10px;
  color:var(--text);
}
</style>
</head>

<body>

<div class="focus-overlay" id="overlay"></div>

<header class="header">
  <div class="header-content">
    <div class="brand-title">GrindForge</div>
    <div class="stat-pill">Focus</div>
  </div>
</header>

<main class="dashboard">

  <section class="panel pomodoro-panel">
    <div class="pomodoro-header">
      <h3>‚è± Focus Forge</h3>
      <button class="icon-btn" id="lockBtn">üóñ</button>
    </div>

    <div class="hero-timer">
      <div class="timer-mega" id="smallRing">
        <div class="timer-inner">
          <div class="timer-display" id="smallTime">25:00</div>
          <div class="phase-badge">WORK</div>
        </div>
      </div>

      <div>
        <button class="btn btn-primary" id="start">Start</button>
        <button class="btn" id="pause">Pause</button>
      </div>
    </div>
  </section>

  <aside class="sidebar">
    <div class="panel">
      <h3>üìã Tasks</h3>
      <input id="taskInput" placeholder="Task‚Ä¶" style="width:100%;margin-bottom:10px">
      <div id="tasks"></div>
    </div>
  </aside>

</main>

<!-- FULLSCREEN TIMER -->
<div class="fullscreen-timer" id="fullTimer">
  <div class="full-ring" id="fullRing">
    <div class="full-inner" id="fullTime">25:00</div>
  </div>
</div>

<!-- TASK POPUP -->
<div class="task-popup" id="taskPopup">
  <strong>Tasks</strong>
  <div id="popupTasks"></div>
</div>

<!-- QUICK SETTINGS -->
<button class="btn quick-settings-btn" id="qsBtn">‚öô</button>

<div class="settings-popup" id="qsPopup">
  <label>Work (min)</label>
  <input id="workInput" type="number" value="25">
</div>

<script>
/* ================= TIMER ================= */
let workMinutes = 25;
let seconds = workMinutes * 60;
let total = seconds;
let timer = null;

const smallTime = document.getElementById("smallTime");
const fullTime = document.getElementById("fullTime");
const smallRing = document.getElementById("smallRing");
const fullRing = document.getElementById("fullRing");

function update() {
  const t = `${Math.floor(seconds/60)}:${String(seconds%60).padStart(2,"0")}`;
  smallTime.textContent = t;
  fullTime.textContent = t;
  const deg = 360 * (1 - seconds / total);
  smallRing.style.setProperty("--progress",`${deg}deg`);
  fullRing.style.setProperty("--progress",`${deg}deg`);
}

document.getElementById("start").onclick = () => {
  if (timer) return;
  timer = setInterval(() => {
    seconds--;
    update();
    if (seconds <= 0) {
      clearInterval(timer);
      timer = null;
    }
  }, 1000);
};

document.getElementById("pause").onclick = () => {
  clearInterval(timer);
  timer = null;
};

update();

/* ================= LOCK IN ================= */
const lockBtn = document.getElementById("lockBtn");
const overlay = document.getElementById("overlay");
const fullTimer = document.getElementById("fullTimer");
const taskPopup = document.getElementById("taskPopup");
const qsBtn = document.getElementById("qsBtn");

lockBtn.onclick = () => {
  overlay.classList.toggle("active");
  fullTimer.classList.toggle("active");
  taskPopup.style.display = fullTimer.classList.contains("active") ? "block" : "none";
  qsBtn.style.display = fullTimer.classList.contains("active") ? "block" : "none";
  lockBtn.textContent = lockBtn.textContent === "üóñ" ? "‚úï" : "üóñ";
};

/* ================= TASKS ================= */
const tasks = [];
const tasksDiv = document.getElementById("tasks");
const popupTasks = document.getElementById("popupTasks");

document.getElementById("taskInput").onkeydown = e => {
  if (e.key === "Enter" && e.target.value.trim()) {
    tasks.push(e.target.value);
    e.target.value = "";
    renderTasks();
  }
};

function renderTasks() {
  tasksDiv.innerHTML = "";
  popupTasks.innerHTML = "";
  tasks.forEach(t => {
    tasksDiv.innerHTML += `<div class="task">${t}</div>`;
    popupTasks.innerHTML += `<div>‚Ä¢ ${t}</div>`;
  });
}

/* ================= QUICK SETTINGS ================= */
const qsPopup = document.getElementById("qsPopup");
const workInput = document.getElementById("workInput");

qsBtn.onclick = () => {
  qsPopup.style.display = qsPopup.style.display === "block" ? "none" : "block";
};

workInput.onchange = () => {
  workMinutes = +workInput.value;
  seconds = workMinutes * 60;
  total = seconds;
  update();
};
</script>

</body>
</html>
