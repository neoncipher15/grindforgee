<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GrindForge</title>
<link rel="icon" href="GrindForge.png" type="image/png">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#0b0f17;
  --panel:#0f172a;
  --panel-soft:#020617;
  --border:rgba(255,255,255,0.08);
  --text:#e5e7eb;
  --muted:#9ca3af;
  --accent:#6366f1;
  --radius:16px;
}
*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:Inter,system-ui,sans-serif;
  background:radial-gradient(1200px 600px at 50% -10%, #111827, #020617 70%);
  color:var(--text);
  min-height:100vh;
  overflow-x:hidden;
}
.particles{position:fixed;inset:0;z-index:0}
.particle{
  position:absolute;
  background:white;
  border-radius:50%;
  animation:float linear infinite;
}
@keyframes float{
  from{transform:translateY(100vh)}
  to{transform:translateY(-120vh)}
}
.header{
  position:sticky;
  top:0;
  z-index:10;
  backdrop-filter:blur(16px);
  background:rgba(11,15,23,.85);
  border-bottom:1px solid var(--border);
}
.header-content{
  max-width:1200px;
  margin:auto;
  padding:16px 24px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.logo-section{display:flex;align-items:center;gap:12px}
.logo{width:36px;height:36px}
.brand-title{font-weight:800;font-size:1.3rem}
.header-stats{display:flex;gap:12px}
.stat-pill{
  padding:8px 14px;
  border-radius:999px;
  background:var(--panel);
  border:1px solid var(--border);
  font-size:.85rem;
  color:var(--muted);
}
.dashboard{
  position:relative;
  z-index:1;
  max-width:1200px;
  margin:auto;
  padding:32px 24px;
  display:grid;
  grid-template-columns:1fr 380px;
  gap:32px;
}
@media(max-width:1000px){
  .dashboard{grid-template-columns:1fr}
}
.hero-timer{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:32px;
}
.timer-mega{
  width:300px;
  height:300px;
  border-radius:50%;
  background:conic-gradient(var(--accent) var(--progress,0deg), #1f2937 0deg);
  display:flex;
  align-items:center;
  justify-content:center;
}
.timer-inner{
  width:240px;
  height:240px;
  border-radius:50%;
  background:var(--panel);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}
.timer-display{font-size:3.5rem;font-weight:800}
.phase-badge{
  margin-top:6px;
  font-size:.8rem;
  letter-spacing:.2em;
  color:var(--muted);
}
.timer-controls{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  justify-content:center;
}
.btn{
  padding:12px 22px;
  border-radius:12px;
  border:1px solid var(--border);
  background:var(--panel);
  color:var(--text);
  font-weight:600;
  cursor:pointer;
}
.btn-primary{
  background:var(--accent);
  border:none;
  color:white;
}
.sidebar{display:flex;flex-direction:column;gap:24px}
.panel{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:24px;
}
.panel-title{
  font-size:1.05rem;
  font-weight:700;
  margin-bottom:16px;
}
.settings-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}
.settings-grid label{
  font-size:.75rem;
  color:var(--muted);
}
.settings-grid input{
  width:100%;
  margin-top:4px;
  padding:8px 10px;
  border-radius:10px;
  border:1px solid var(--border);
  background:var(--panel-soft);
  color:var(--text);
}
.task-input-container{
  display:flex;
  gap:10px;
  margin-bottom:14px;
}
.task-input-container input{
  flex:1;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid var(--border);
  background:var(--panel-soft);
  color:var(--text);
}
.tasks-list{display:flex;flex-direction:column;gap:10px}
.task-item{
  display:flex;
  gap:10px;
  align-items:center;
  padding:10px 12px;
  border-radius:12px;
  background:var(--panel-soft);
  border:1px solid var(--border);
}
.task-item.completed{opacity:.5;text-decoration:line-through}
.task-item span{flex:1}
.stats-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}
.stat-card{
  background:var(--panel-soft);
  border:1px solid var(--border);
  border-radius:12px;
  padding:16px;
  text-align:center;
}
.stat-value{font-size:1.7rem;font-weight:800}
.stat-label{
  font-size:.7rem;
  color:var(--muted);
  letter-spacing:.1em;
  text-transform:uppercase;
}
.notification{
  position:fixed;
  bottom:24px;
  right:24px;
  background:var(--panel);
  border:1px solid var(--border);
  padding:14px 18px;
  border-radius:14px;
  opacity:0;
  transform:translateY(20px);
  transition:.3s;
  z-index:20;
}
.notification.show{opacity:1;transform:translateY(0)}
</style>
</head>

<body>

<div class="particles" id="particles"></div>

<header class="header">
  <div class="header-content">
    <div class="logo-section">
      <img src="GrindForge.png" class="logo">
      <div class="brand-title">GrindForge</div>
    </div>
    <div class="header-stats">
      <div class="stat-pill"><span id="headerPomodoros">0</span> Today</div>
      <div class="stat-pill">Streak: <span id="headerStreak">0</span></div>
    </div>
  </div>
</header>

<main class="dashboard">
<section class="hero-timer">
  <div class="timer-mega" id="timerMega">
    <div class="timer-inner">
      <div class="timer-display" id="timerDisplay">25:00</div>
      <div class="phase-badge" id="phaseBadge">WORK</div>
    </div>
  </div>
  <div class="timer-controls">
    <button class="btn btn-primary" id="startBtn">‚ñ∂ Start</button>
    <button class="btn" id="pauseBtn">‚è∏ Pause</button>
    <button class="btn" id="resetBtn">üîÑ Reset</button>
  </div>
</section>

<aside class="sidebar">
  <!-- QUICK SETTINGS -->
  <div class="panel">
    <h3 class="panel-title">‚öô Quick Settings</h3>
    <div class="settings-grid">
      <div><label>Work</label><input type="number" id="workTime" value="25"></div>
      <div><label>Short Break</label><input type="number" id="shortBreak" value="5"></div>
      <div><label>Long Break</label><input type="number" id="longBreak" value="15"></div>
      <div><label>Interval</label><input type="number" id="longBreakInterval" value="4"></div>
    </div>
  </div>

  <!-- TASKS -->
  <div class="panel">
    <h3 class="panel-title">üìã Task Forge</h3>
    <div class="task-input-container">
      <input id="taskInput" placeholder="What are you forging today?">
      <button class="btn btn-primary" id="addTaskBtn">Add</button>
    </div>
    <div class="tasks-list" id="tasksList"></div>
  </div>

  <!-- STATS -->
  <div class="panel">
    <h3 class="panel-title">üìä Grind Stats</h3>
    <div class="stats-grid">
      <div class="stat-card"><div class="stat-value" id="totalPomodoros">0</div><div class="stat-label">Pomodoros</div></div>
      <div class="stat-card"><div class="stat-value" id="totalTime">0h</div><div class="stat-label">Focus</div></div>
      <div class="stat-card"><div class="stat-value" id="currentStreak">0</div><div class="stat-label">Streak</div></div>
      <div class="stat-card"><div class="stat-value" id="completedTasks">0</div><div class="stat-label">Tasks</div></div>
    </div>
  </div>
</aside>
</main>

<div class="notification" id="notification"></div>

<script>
const alarmSound = new Audio(
  "https://pixabay.com/sound-effects/clock-alarm-8761/"
);
alarmSound.volume = 0.8;


/* PARTICLES */
const particles=document.getElementById("particles");
for(let i=0;i<80;i++){
  const p=document.createElement("div");
  p.className="particle";
  const s=Math.random()*3+1;
  p.style.width=s+"px";
  p.style.height=s+"px";
  p.style.left=Math.random()*100+"%";
  p.style.top=Math.random()*100+"%";
  p.style.opacity=Math.random();
  p.style.animationDuration=(10+Math.random()*30)+"s";
  particles.appendChild(p);
}

/* TIMER */
let work=25*60, shortB=5*60, longB=15*60, interval=4;
let timer=work, phase="WORK", pomos=0, tInt=null;

const display=document.getElementById("timerDisplay");
const badge=document.getElementById("phaseBadge");
const mega=document.getElementById("timerMega");

function render(){
  display.textContent=
    String(Math.floor(timer/60)).padStart(2,"0")+":"+
    String(timer%60).padStart(2,"0");
  const total=phase==="WORK"?work:phase==="SHORT"?shortB:longB;
  mega.style.setProperty("--progress",`${(1-timer/total)*360}deg`);
}
function start(){
  if(tInt) return;
  tInt=setInterval(()=>{
    timer--;
    if(timer<0) next();
    render();
  },1000);
}
function pause(){clearInterval(tInt);tInt=null}
function reset(){
  pause();
  phase="WORK";
  badge.textContent="WORK";
  timer=work;
  mega.style.setProperty("--progress","0deg");
  render();
}
function next(){
  alarmSound.currentTime = 0;
  alarmSound.play();

  if(phase==="WORK"){
    pomos++;
    phase=pomos%interval===0?"LONG":"SHORT";
    timer=phase==="LONG"?longB:shortB;
    notify("Break time");
  }else{
    phase="WORK";
    timer=work;
    notify("Focus!");
  }
  badge.textContent=phase;
  updateStats();
  pause();
}


startBtn.onclick=start;
pauseBtn.onclick=pause;
resetBtn.onclick=reset;

/* QUICK SETTINGS */
[workTime,shortBreak,longBreak,longBreakInterval].forEach(i=>{
  i.onchange=()=>{
    pause();
    work=+workTime.value*60;
    shortB=+shortBreak.value*60;
    longB=+longBreak.value*60;
    interval=+longBreakInterval.value;
    reset();
  };
});

/* TASKS */
let tasks=JSON.parse(localStorage.getItem("tasks")||"[]");
function drawTasks(){
  tasksList.innerHTML="";
  tasks.forEach((t,i)=>{
    const d=document.createElement("div");
    d.className="task-item"+(t.done?" completed":"");
    const c=document.createElement("input");
    c.type="checkbox";c.checked=t.done;
    c.onchange=()=>{t.done=!t.done;save()};
    const s=document.createElement("span");
    s.contentEditable=true;s.innerText=t.text;
    s.oninput=e=>{t.text=e.target.innerText;save()};
    d.append(c,s);
    tasksList.append(d);
  });
  save();
}
function save(){
  localStorage.setItem("tasks",JSON.stringify(tasks));
  updateStats();
}
addTaskBtn.onclick=()=>{
  if(!taskInput.value.trim()) return;
  tasks.push({text:taskInput.value,done:false});
  taskInput.value="";
  drawTasks();
};

/* STATS */
function updateStats(){
  totalPomodoros.textContent=pomos;
  headerPomodoros.textContent=pomos;
  completedTasks.textContent=tasks.filter(t=>t.done).length;
  totalTime.textContent=Math.floor(pomos*work/3600)+"h";
}

/* NOTIFY */
function notify(t){
  notification.textContent=t;
  notification.classList.add("show");
  setTimeout(()=>notification.classList.remove("show"),2500);
}

render();
drawTasks();
</script>

</body>
</html>
