<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GrindForge</title>
<link rel="icon" href="GrindForge.png" type="image/png">

<script>
      window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
</script>
<script defer src="/_vercel/insights/script.js"></script>

<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

:root{
  --bg:#0b0f17;
  --panel:#111827;
  --panel-soft:#0f172a;
  --border:rgba(255,255,255,0.08);
  --text:#e5e7eb;
  --muted:#9ca3af;
  --accent:#6366f1;
  --accent-soft:rgba(99,102,241,0.15);
  --radius:16px;
}

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
}

body{
  font-family:Inter,system-ui,sans-serif;
  background:var(--bg);
  color:var(--text);
  min-height:100vh;
}

/* ================= HEADER ================= */
.header{
  position:sticky;
  top:0;
  z-index:50;
  background:rgba(11,15,23,.85);
  backdrop-filter:blur(16px);
  border-bottom:1px solid var(--border);
}

.header-content{
  max-width:1200px;
  margin:auto;
  padding:18px 24px;
  display:flex;
  align-items:center;
  justify-content:space-between;
}

.logo-section{
  display:flex;
  align-items:center;
  gap:12px;
}

.logo{
  width:36px;
  height:36px;
}

.brand-title{
  font-size:1.3rem;
  font-weight:800;
  letter-spacing:-.02em;
}

.header-stats{
  display:flex;
  gap:12px;
}

.stat-pill{
  padding:8px 14px;
  border-radius:999px;
  background:var(--panel-soft);
  border:1px solid var(--border);
  font-size:.9rem;
  color:var(--muted);
}

/* ================= LAYOUT ================= */
.dashboard{
  max-width:1200px;
  margin:auto;
  padding:32px 24px;
  display:grid;
  grid-template-columns:1fr 380px;
  gap:32px;
}

@media(max-width:1000px){
  .dashboard{grid-template-columns:1fr;}
}

/* ================= TIMER ================= */
.hero-timer{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:32px;
}

.timer-mega{
  width:300px;
  height:300px;
  border-radius:50%;
  background:
    conic-gradient(
      var(--accent) var(--progress,0deg),
      #1f2937 0deg
    );
  display:flex;
  align-items:center;
  justify-content:center;
}

.timer-inner-circle{
  width:240px;
  height:240px;
  border-radius:50%;
  background:var(--panel);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}

.timer-display{
  font-size:3.5rem;
  font-weight:800;
  letter-spacing:-.03em;
}

.phase-badge{
  margin-top:8px;
  font-size:.8rem;
  color:var(--muted);
  letter-spacing:.15em;
}

/* ================= BUTTONS ================= */
.timer-controls{
  display:flex;
  gap:14px;
  flex-wrap:wrap;
  justify-content:center;
}

.btn{
  padding:12px 22px;
  border-radius:10px;
  border:1px solid var(--border);
  background:var(--panel-soft);
  color:var(--text);
  font-weight:600;
  cursor:pointer;
}

.btn-primary{
  background:var(--accent);
  border:none;
  color:white;
}

.btn:disabled{
  opacity:.5;
  cursor:not-allowed;
}

/* ================= SIDEBAR ================= */
.sidebar{
  display:flex;
  flex-direction:column;
  gap:24px;
}

/* ================= PANELS ================= */
.panel{
  background:var(--panel);
  border-radius:var(--radius);
  border:1px solid var(--border);
  padding:24px;
}

.panel-title{
  font-size:1.1rem;
  font-weight:700;
  margin-bottom:16px;
}

/* ================= SETTINGS ================= */
.settings-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}

.settings-grid label{
  font-size:.8rem;
  color:var(--muted);
}

.settings-grid input{
  margin-top:4px;
  width:100%;
  padding:8px 10px;
  border-radius:8px;
  border:1px solid var(--border);
  background:#020617;
  color:var(--text);
  outline:none;
}

/* ================= TASKS ================= */
.task-input-container{
  display:flex;
  gap:10px;
  margin-bottom:14px;
}

.task-input-container input{
  flex:1;
  padding:10px 12px;
  border-radius:10px;
  border:1px solid var(--border);
  background:#020617;
  color:var(--text);
}

.tasks-list{
  display:flex;
  flex-direction:column;
  gap:10px;
}

.task-item{
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 12px;
  border-radius:10px;
  background:#020617;
  border:1px solid var(--border);
}

.task-item.completed{
  opacity:.5;
  text-decoration:line-through;
}

.task-item span{
  flex:1;
  outline:none;
}

/* ================= STATS ================= */
.stats-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}

.stat-card{
  background:#020617;
  border:1px solid var(--border);
  border-radius:12px;
  padding:16px;
  text-align:center;
}

.stat-value{
  font-size:1.8rem;
  font-weight:800;
}

.stat-label{
  font-size:.75rem;
  color:var(--muted);
  text-transform:uppercase;
  letter-spacing:.1em;
}

</style>
</head>
<body>
<!-- Particles -->
<div class="particles" id="particles"></div>

<!-- Header -->
<header class="header">
<div class="header-content">
<div class="logo-section">
<img src="GrindForge.png" alt="GrindForge" class="logo">
<div class="brand-title">GrindForge</div>
</div>
<div class="header-stats">
<div class="stat-pill"><span id="headerPomodoros">0</span> Today</div>
<div class="stat-pill">Streak: <span id="headerStreak">0</span></div>
</div>
</div>
</header>

<!-- Dashboard -->
<main class="dashboard">
<!-- Timer -->
<section class="hero-timer">
<div class="timer-mega-container">
<div class="timer-mega" id="timerMega">
<div class="timer-inner-circle">
<div class="timer-display" id="timerDisplay">25:00</div>
</div>
<div class="phase-badge" id="phaseBadge">WORK</div>
</div>
</div>
<div class="timer-controls">
<button class="btn btn-primary" id="startBtn">‚ñ∂ Start Session</button>
<button class="btn btn-secondary" id="pauseBtn">‚è∏ Pause</button>
<button class="btn btn-secondary" id="resetBtn">üîÑ Reset</button>
</div>
</section>

<!-- Sidebar -->
<aside class="sidebar">
<!-- Quick Settings Panel -->
<div class="panel">
  <h3 class="panel-title">‚öôÔ∏è Quick Settings</h3>
  <div class="settings-grid">
    <div class="input-group">
      <label for="workTime">Work Duration (min)</label>
      <input type="number" id="workTime" value="25" min="1" max="90">
    </div>
    <div class="input-group">
      <label for="shortBreak">Short Break (min)</label>
      <input type="number" id="shortBreak" value="5" min="1" max="30">
    </div>
    <div class="input-group">
      <label for="longBreak">Long Break (min)</label>
      <input type="number" id="longBreak" value="15" min="5" max="60">
    </div>
    <div class="input-group">
      <label for="longBreakInterval">Pomodoros per Long Break</label>
      <input type="number" id="longBreakInterval" value="4" min="2" max="10">
    </div>
  </div>
</div>

<!-- Tasks -->
<div class="panel">
  <h3 class="panel-title">üìã Task Forge</h3>
  <div class="task-input-container">
    <input type="text" id="taskInput" placeholder="What are you forging today?">
    <button class="btn btn-primary" id="addTaskBtn">Add Task</button>
  </div>
  <div class="tasks-list" id="tasksList"></div>
</div>

<!-- Stats -->
<div class="panel">
<h3 class="panel-title">üìä Grind Stats</h3>
<div class="stats-grid">
<div class="stat-card"><div class="stat-value" id="totalPomodoros">0</div><div class="stat-label">Pomodoros</div></div>
<div class="stat-card"><div class="stat-value" id="totalTime">0h</div><div class="stat-label">Focus Time</div></div>
<div class="stat-card"><div class="stat-value" id="currentStreak">0</div><div class="stat-label">Streak</div></div>
<div class="stat-card"><div class="stat-value" id="completedTasks">0</div><div class="stat-label">Tasks Done</div></div>
</div>
</div>
</aside>
</main>

<!-- Notification -->
<div class="notification" id="notification"></div>

<script>
// -------------------- Timer Logic --------------------
let workDuration = parseInt(document.getElementById('workTime').value) * 60;
let shortBreak = parseInt(document.getElementById('shortBreak').value) * 60;
let longBreak = parseInt(document.getElementById('longBreak').value) * 60;
let longBreakInterval = parseInt(document.getElementById('longBreakInterval').value);

let timer = workDuration;
let timerInterval = null;
let pomodorosCompleted = 0;
let phase = 'WORK';

const timerDisplay = document.getElementById('timerDisplay');
const phaseBadge = document.getElementById('phaseBadge');
const startBtn = document.getElementById('startBtn');
const pauseBtn = document.getElementById('pauseBtn');
const resetBtn = document.getElementById('resetBtn');

function updateDisplay() {
    const mins = Math.floor(timer/60).toString().padStart(2,'0');
    const secs = (timer%60).toString().padStart(2,'0');
    timerDisplay.textContent = `${mins}:${secs}`;
    const progress = ((phase==='WORK'? (workDuration-timer)/workDuration : (phase==='SHORT'? (shortBreak-timer)/shortBreak : (longBreak-timer)/longBreak))*360);
    document.getElementById('timerMega').style.setProperty('--progress', progress+'deg');
}

function startTimer() {
    if(timerInterval) return;
    timerInterval = setInterval(()=>{
        timer--;
        if(timer<0) nextPhase();
        updateDisplay();
    },1000);
}

function pauseTimer() { clearInterval(timerInterval); timerInterval=null; }
function resetTimer() { 
    pauseTimer(); 
    if(phase==='WORK') timer=workDuration; 
    else if(phase==='SHORT') timer=shortBreak;
    else timer=longBreak;
    updateDisplay();
}

function nextPhase(){
    if(phase==='WORK'){
        pomodorosCompleted++;
        if(pomodorosCompleted % longBreakInterval === 0) { phase='LONG'; timer=longBreak; showNotification('Time for a LONG break!'); }
        else { phase='SHORT'; timer=shortBreak; showNotification('Short break!'); }
    } else { phase='WORK'; timer=workDuration; showNotification('Focus!'); }
    phaseBadge.textContent = phase;
    updateDisplay();
    updateStats();
    pauseTimer();
}

startBtn.addEventListener('click', startTimer);
pauseBtn.addEventListener('click', pauseTimer);
resetBtn.addEventListener('click', resetTimer);

document.getElementById('workTime').addEventListener('change', e => { workDuration = parseInt(e.target.value)*60; resetTimer(); });
document.getElementById('shortBreak').addEventListener('change', e => { shortBreak = parseInt(e.target.value)*60; resetTimer(); });
document.getElementById('longBreak').addEventListener('change', e => { longBreak = parseInt(e.target.value)*60; resetTimer(); });
document.getElementById('longBreakInterval').addEventListener('change', e => { longBreakInterval = parseInt(e.target.value); });

// -------------------- Task Logic --------------------
let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
const taskInput = document.getElementById('taskInput');
const addTaskBtn = document.getElementById('addTaskBtn');
const tasksList = document.getElementById('tasksList');

function renderTasks(){
    tasksList.innerHTML = '';
    tasks.forEach((task,i)=>{
        const taskItem = document.createElement('div');
        taskItem.className='task-item';
        if(task.completed) taskItem.classList.add('completed');

        const checkbox=document.createElement('input');
        checkbox.type='checkbox';
        checkbox.className='task-checkbox';
        checkbox.checked=task.completed;
        checkbox.addEventListener('change',()=>toggleTask(i));

        const span=document.createElement('span');
        span.contentEditable=true;
        span.innerText=task.text;
        span.addEventListener('input', e => editTask(i,e));

        const deleteBtn=document.createElement('button');
        deleteBtn.innerHTML='‚ùå';
        deleteBtn.className='btn btn-secondary';
        deleteBtn.addEventListener('click',()=>deleteTask(i));

        taskItem.appendChild(checkbox);
        taskItem.appendChild(span);
        taskItem.appendChild(deleteBtn);

        tasksList.appendChild(taskItem);
    });
    localStorage.setItem('tasks', JSON.stringify(tasks));
    updateStats();
}

addTaskBtn.addEventListener('click', ()=>{
    const text=taskInput.value.trim();
    if(text==='') return;
    tasks.push({text, completed:false});
    taskInput.value='';
    renderTasks();
});

function toggleTask(i){ tasks[i].completed=!tasks[i].completed; renderTasks(); }
function editTask(i,e){ tasks[i].text=e.target.innerText; localStorage.setItem('tasks', JSON.stringify(tasks)); }
function deleteTask(i){ tasks.splice(i,1); renderTasks(); }

// -------------------- Stats --------------------
function updateStats(){
    document.getElementById('totalPomodoros').textContent=pomodorosCompleted;
    document.getElementById('headerPomodoros').textContent=pomodorosCompleted;
    document.getElementById('totalTime').textContent=Math.floor((pomodorosCompleted*workDuration)/3600)+'h';
    document.getElementById('completedTasks').textContent=tasks.filter(t=>t.completed).length;
}

updateDisplay();
renderTasks();

// -------------------- Notification --------------------
const notification = document.getElementById('notification');
function showNotification(msg){
    notification.textContent=msg;
    notification.classList.add('show');
    setTimeout(()=>{notification.classList.remove('show');},3000);
}

// -------------------- Particles --------------------
const particlesContainer=document.getElementById('particles');
for(let i=0;i<60;i++){
    const particle=document.createElement('div');
    particle.className='particle';
    particle.style.width=Math.random()*8+4+'px';
    particle.style.height=particle.style.width;
    particle.style.top=Math.random()*100+'%';
    particle.style.left=Math.random()*100+'%';
    particle.style.animationDuration=(10+Math.random()*20)+'s';
    particle.style.opacity=Math.random()*0.7+0.3;
    particlesContainer.appendChild(particle);
}
</script>
</body>
</html>
