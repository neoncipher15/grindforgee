<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>GrindForge ‚Äî Pomodoro</title>
<link rel="icon" href="/GrindForge.png" />
<style>
:root{
--accent:#4ecdc4;
--bg:#030612;
--card:rgba(4,6,10,.9);
--text:#dffcff;
--muted:#9adbd4;
--danger:#ff5a5a;
--success:#6ef0c9;
--radius:14px;
}
*{box-sizing:border-box}
body{
margin:0;
font-family:Poppins,system-ui;
color:var(--text);
background:url(img.jpg) center/cover fixed;
}
.overlay{
position:fixed;inset:0;
background:rgba(0,0,0,.45);
z-index:-1;
}
.dashboard{
display:grid;
grid-template-columns:1fr 1fr;
grid-template-rows:auto 1fr;
gap:14px;
padding:14px;
max-width:1300px;
margin:auto;
min-height:100vh;
}
header{
grid-column:1/3;
display:flex;
justify-content:space-between;
align-items:center;
padding:18px 22px;
background:var(--card);
border-radius:var(--radius);
}
.brand{
display:flex;
gap:12px;
align-items:center;
}
.brand img{width:42px}
.brand h1{
margin:0;
font-size:20px;
background:linear-gradient(135deg,var(--accent),var(--success));
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
}
.header-info{
text-align:right;
font-size:13px;
color:var(--muted);
}
.card{
background:var(--card);
border-radius:var(--radius);
padding:20px;
}
.hidden{display:none}

/* TIMER */
.timer{
display:flex;
flex-direction:column;
align-items:center;
gap:12px;
}
.progress-ring{
width:200px;
height:200px;
}
#timer{
font-size:48px;
font-weight:900;
background:linear-gradient(135deg,var(--accent),var(--success));
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
}
.controls button{
margin:4px;
padding:10px 16px;
border-radius:10px;
border:0;
font-weight:700;
cursor:pointer;
background:linear-gradient(135deg,var(--accent),var(--success));
}
.settings{
display:flex;
gap:10px;
}
.settings input{
width:70px;
padding:8px;
border-radius:8px;
border:0;
background:rgba(255,255,255,.1);
color:white;
text-align:center;
}

/* TODO */
.todo-input{
display:flex;
gap:10px;
margin-bottom:12px;
}
.todo-input input{
flex:1;
padding:12px;
border-radius:10px;
border:0;
background:rgba(255,255,255,.1);
color:white;
}
.todo-input button{
padding:12px 16px;
border-radius:10px;
border:0;
font-weight:700;
background:linear-gradient(135deg,var(--accent),var(--success));
}
li{
list-style:none;
display:flex;
justify-content:space-between;
align-items:center;
padding:12px;
margin-bottom:8px;
border-radius:10px;
background:rgba(255,255,255,.08);
}
.checkbox{
width:26px;height:26px;
border-radius:8px;
border:2px solid #aaa;
display:flex;
align-items:center;
justify-content:center;
cursor:pointer;
}
.checkbox.done{
background:var(--success);
border-color:var(--success);
color:#042726;
}
.desc.done{text-decoration:line-through;opacity:.6}
</style>
</head>

<body>
<div class="overlay"></div>

<div class="dashboard">

<header>
<div class="brand">
<img src="/GrindForge.png">
<h1>GrindForge</h1>
</div>
<div class="header-info">
<div id="date"></div>
<div>üî• Streak: <span id="streak">0</span></div>
</div>
</header>

<section class="card timer">
<svg class="progress-ring">
<circle cx="100" cy="100" r="90" stroke="#233" stroke-width="12" fill="none"/>
<circle id="ring" cx="100" cy="100" r="90" stroke="#4ecdc4" stroke-width="12" fill="none"
stroke-dasharray="565" stroke-dashoffset="0"/>
</svg>
<div id="mode">WORK</div>
<div id="timer">25:00</div>
<div class="controls">
<button id="start">Start</button>
<button id="pause">Pause</button>
<button id="reset">Reset</button>
</div>
<div class="settings">
<label>Work <input id="work" value="25"></label>
<label>Break <input id="break" value="5"></label>
</div>
</section>

<section id="todoCard" class="card">
<h3>üìù To-Do</h3>
<div class="todo-input">
<input id="todoInput" placeholder="Type your task...">
<button id="add">Add</button>
</div>
<ul id="list"></ul>
</section>

</div>

<audio id="alarm" src="alarm.mp3"></audio>
<audio id="ting" src="ting.mp3"></audio>

<script>
class GrindForge{
constructor(){
this.time=25*60;
this.total=this.time;
this.work=true;
this.running=false;
this.timer=null;

this.tasks=JSON.parse(localStorage.getItem("tasks")||"[]");
this.streak=+localStorage.getItem("streak")||0;
this.lastDate=localStorage.getItem("date");

this.el={
timer:timer,mode:mode,ring:ring,
todo:list,input:todoInput,streak:streak,
todoCard:todoCard
};

this.updateDate();
this.loadTodos();
this.updateRing();
this.bind();
}

updateDate(){
const d=new Date().toLocaleString("en-IN",{weekday:"long",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit",hour12:false});
date.textContent=d;
}

bind(){
start.onclick=()=>this.start();
pause.onclick=()=>this.pause();
reset.onclick=()=>this.reset();
add.onclick=()=>this.addTask();
todoInput.onkeydown=e=>e.key==="Enter"&&this.addTask();
}

start(){
if(this.running)return;
this.running=true;
this.el.todoCard.classList.add("hidden");

this.timer=setInterval(()=>{
if(this.time<=0){this.complete();return;}
this.time--;
this.update();
},1000);
}

pause(){
clearInterval(this.timer);
this.running=false;
this.el.todoCard.classList.remove("hidden");
}

reset(){
this.pause();
this.work=true;
this.time=work.value*60;
this.total=this.time;
this.update();
}

complete(){
this.pause();
alarm.play();
this.work=!this.work;
this.time=(this.work?work.value:break.value)*60;
this.total=this.time;

if(this.work){
const today=new Date().toDateString();
if(this.lastDate!==today){
this.streak++;
localStorage.setItem("streak",this.streak);
localStorage.setItem("date",today);
}
}
this.update();
}

update(){
this.el.timer.textContent=
String(Math.floor(this.time/60)).padStart(2,"0")+":"+
String(this.time%60).padStart(2,"0");
this.el.mode.textContent=this.work?"WORK":"BREAK";
this.el.streak.textContent=this.streak;
this.updateRing();
}

updateRing(){
const offset=565-(this.time/this.total)*565;
this.el.ring.style.strokeDashoffset=offset;
this.el.ring.style.stroke=this.work?"#4ecdc4":"#ff5a5a";
}

addTask(){
const t=this.el.input.value.trim();
if(!t)return;
this.tasks.push({id:Date.now(),text:t,done:false});
this.el.input.value="";
this.saveTodos();
this.loadTodos();
}

loadTodos(){
this.el.todo.innerHTML="";
this.tasks.forEach(t=>{
const li=document.createElement("li");
const cb=document.createElement("div");
cb.className="checkbox"+(t.done?" done":"");
cb.textContent=t.done?"‚úì":"";
cb.onclick=()=>{
t.done=!t.done;
if(t.done)ting.play();
this.saveTodos();this.loadTodos();
};
const span=document.createElement("span");
span.textContent=t.text;
span.className="desc"+(t.done?" done":"");
li.append(cb,span);
this.el.todo.appendChild(li);
});
}

saveTodos(){
localStorage.setItem("tasks",JSON.stringify(this.tasks));
}
}

new GrindForge();
</script>
</body>
</html>
