<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="GrindForge.png" sizes="any">
<title>GrindForge</title>

<style>
:root{
  --bg:#05080f;
  --card:#0e1626;
  --card2:#121c30;
  --border:rgba(255,255,255,.06);
  --text:#e5e7eb;
  --muted:#9ca3af;
  --accent:#3b82f6;
  --accent2:#60a5fa;
  --radius:20px;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:Inter,system-ui,Arial;
  background:
    radial-gradient(1200px at 50% -10%, #0f172a, transparent),
    var(--bg);
  color:var(--text);
  min-height:100vh;
}

.container{
  max-width:1200px;
  margin:auto;
  padding:18px;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(360px,1fr));
  gap:20px;
}

/* ================= HEADER ================= */
header{
  grid-column:1/-1;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:16px;
  padding:14px 20px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.brand{
  display:flex;
  align-items:center;
  gap:12px;
}

.logo{
  width:38px;
  height:38px;
  border-radius:50%;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  display:grid;
  place-items:center;
  font-weight:900;
  color:white;
}

.brand h1{
  margin:0;
  font-size:18px;
  letter-spacing:.4px;
}

#datetime{
  font-size:13px;
  color:var(--muted);
  font-weight:500;
}

/* ================= CARDS ================= */
.card{
  background:var(--card2);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:24px;
}

/* ================= POMODORO ================= */
.timer{
  text-align:center;
}

.circle{
  width:200px;
  height:200px;
  margin:auto;
  position:relative;
}

svg{
  width:200px;
  height:200px;
}

#timeText{
  font-size:36px;
  font-weight:800;
  fill:var(--accent2);
}

#modeText{
  font-size:13px;
  fill:var(--muted);
  letter-spacing:2px;
}

.controls button{
  margin:6px;
  padding:10px 18px;
  border:0;
  border-radius:12px;
  font-weight:700;
  cursor:pointer;
  color:white;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
}

.settings{
  display:flex;
  justify-content:center;
  gap:14px;
  margin-top:10px;
}

.settings input{
  width:64px;
  padding:8px;
  border-radius:10px;
  border:0;
  background:rgba(255,255,255,.08);
  color:white;
  text-align:center;
}

/* ================= TODO ================= */
.card h2{
  margin:0 0 14px;
  font-size:18px;
}

.todo-input{
  display:flex;
  gap:10px;
  margin-bottom:14px;
}

.todo-input input{
  flex:1;
  padding:12px;
  border-radius:12px;
  border:0;
  background:rgba(255,255,255,.08);
  color:white;
}

.todo-input button{
  padding:12px 16px;
  border-radius:12px;
  border:0;
  cursor:pointer;
  color:white;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
}

ul{padding:0;margin:0}

li{
  list-style:none;
  display:flex;
  align-items:center;
  gap:12px;
  padding:12px;
  margin-bottom:8px;
  border-radius:14px;
  background:rgba(255,255,255,.05);
}

.check{
  width:26px;
  height:26px;
  border-radius:50%;
  border:2px solid #374151;
  display:grid;
  place-items:center;
  cursor:pointer;
}

.check.done{
  background:var(--accent);
  border-color:var(--accent);
  color:white;
}

.task{
  flex:1;
}

.task.done{
  text-decoration:line-through;
  color:#6b7280;
}

.del{
  cursor:pointer;
  color:#ef4444;
}

/* ================= RESPONSIVE ================= */
@media(max-width:768px){
  header{flex-direction:column;gap:6px}
}
</style>
</head>

<body>

<div class="container">

<header>
  <div class="brand">
    <div class="logo"><img src="./GrindForge.png"></div>
    <h1>GrindForge</h1>
  </div>
  <div id="datetime"></div>
</header>

<!-- POMODORO -->
<section class="card timer">
  <svg viewBox="0 0 200 200">
    <circle cx="100" cy="100" r="90" stroke="#1f2933" stroke-width="12" fill="none"/>
    <circle id="progress" cx="100" cy="100" r="90"
      stroke="url(#grad)" stroke-width="12" fill="none"
      stroke-dasharray="565"
      stroke-dashoffset="0"
      transform="rotate(-90 100 100)"/>
    <defs>
      <linearGradient id="grad">
        <stop offset="0%" stop-color="#3b82f6"/>
        <stop offset="100%" stop-color="#60a5fa"/>
      </linearGradient>
    </defs>
    <text id="modeText" x="100" y="85" text-anchor="middle">WORK</text>
    <text id="timeText" x="100" y="120" text-anchor="middle">25:00</text>
  </svg>

  <div class="controls">
    <button id="start">Start</button>
    <button id="pause">Pause</button>
    <button id="reset">Reset</button>
  </div>

  <div class="settings">
    <label>Work <input id="work" value="25"></label>
    <label>Break <input id="break" value="5"></label>
  </div>
</section>

<!-- TODO -->
<section class="card">
  <h2>üìù To-Do</h2>
  <div class="todo-input">
    <input id="todoInput" placeholder="Add a task‚Ä¶" />
    <button id="add">Add</button>
  </div>
  <ul id="list"></ul>
</section>

</div>

<script>
/* ===== DATE & TIME (12H, NO SECONDS) ===== */
function updateTime(){
  const now=new Date();
  const options={
    weekday:"short",
    day:"numeric",
    month:"short",
    hour:"numeric",
    minute:"2-digit",
    hour12:true
  };
  document.getElementById("datetime").textContent=
    now.toLocaleString("en-IN",options);
}
updateTime();
setInterval(updateTime,60000);

/* ===== POMODORO ===== */
let isWork=true;
let running=false;
let total=25*60;
let time=total;
let interval;

const timeText=document.getElementById("timeText");
const modeText=document.getElementById("modeText");
const progress=document.getElementById("progress");

function renderTimer(){
  const m=Math.floor(time/60);
  const s=time%60;
  timeText.textContent=
    `${String(m).padStart(2,"0")}:${String(s).padStart(2,"0")}`;
  modeText.textContent=isWork?"WORK":"BREAK";
  progress.style.strokeDashoffset=
    565-(time/total)*565;
}

document.getElementById("start").onclick=()=>{
  if(running) return;
  running=true;
  interval=setInterval(()=>{
    if(time<=0){
      isWork=!isWork;
      total=(isWork?work.value:break.value)*60;
      time=total;
    }
    time--;
    renderTimer();
  },1000);
};

document.getElementById("pause").onclick=()=>{
  clearInterval(interval);
  running=false;
};

document.getElementById("reset").onclick=()=>{
  clearInterval(interval);
  running=false;
  isWork=true;
  total=work.value*60;
  time=total;
  renderTimer();
};

renderTimer();

/* ===== TODO ===== */
let tasks=JSON.parse(localStorage.getItem("tasks")||"[]");
const list=document.getElementById("list");

function save(){localStorage.setItem("tasks",JSON.stringify(tasks));}

function draw(){
  list.innerHTML="";
  tasks.forEach((t,i)=>{
    const li=document.createElement("li");

    const c=document.createElement("div");
    c.className="check"+(t.done?" done":"");
    c.textContent=t.done?"‚úì":"";
    c.onclick=()=>{t.done=!t.done;save();draw();};

    const s=document.createElement("span");
    s.className="task"+(t.done?" done":"");
    s.textContent=t.text;

    const d=document.createElement("span");
    d.className="del";
    d.textContent="‚úï";
    d.onclick=()=>{tasks.splice(i,1);save();draw();};

    li.append(c,s,d);
    list.appendChild(li);
  });
}
draw();

document.getElementById("add").onclick=()=>{
  const v=todoInput.value.trim();
  if(!v) return;
  tasks.push({text:v,done:false});
  todoInput.value="";
  save();
  draw();
};
</script>

</body>
</html>
